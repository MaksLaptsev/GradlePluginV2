**Custom Gradle Plugin**
## Перед использованием необходимо:
1. Скачать код с репозитория
2. В build.gradle вынесена задача для публикации плагина в локальном репозитории m2
   ```groovy
   tasks.register('publishToMavenLocalProxy') {
    dependsOn(publishToMavenLocal)
    group("gradle plugin homework")
   }
   ```
    запустить задачу publishToMavenLocalProxy
  3. Добавить в settings.gradle (в проекте, в котором планируется использовать плагин) первой строкой
       ```groovy
     pluginManagement {
        repositories {
          mavenLocal()
          mavenCentral()
          gradlePluginPortal()
        }
      }
       ```
       
  4. Добавить плагин в build gradle:
      ```groovy
       plugins {
          ...
          id 'ru.clevertec.homework' version '2.0'
       }
      ```

  5. В доступны задачах появится таски:
     * IsGitDirectory
     * HasUncommittedChanges
     * IsCurrentTagExist
     * CreateGitTag
      

## Описание задач плагина
1. IsGitDirectory:
   * Идет проверка, проиницилизирован ли гит в текущей директории
2. HasUncommittedChanges:
   * Идет проверка на наличие незафиксированных изменений, в случае, если такие будут - tag не формируется, выводится информация о текущей версии с постфиксом .uncommitted
3. IsCurrentTagExist:
   * Идет проверка на наличие tag у текущего HEAD, если он есть, то новый tag не формируется, выводится сообщение о том, что tag уже существует.
4. CreateGitTag:
   * Если был обнаружен git в текущей директории, все отслеживаемые изменения закоммичены, текущего тега нету - формируется и выводится новый tag.
5. Отправка в удаленный репозиторий.


## Формирование тега происходит по следующей логике:
Определить версию текущего билда исходя из ветки, на которой была запущена задача 
1. dev/qa - инкремент минорной версии
2. stage - инкремент минорной версии + добавить постфикс -rc
3. master - инкремент мажорной версии 
4. Из любой другой ветки - инкремент минорной версии + добавить постфикс -SNAPSHOT
* Если текущему состоянию проекта уже присвоен git tag, новый присваиваться не должен 
* Если в рабочей директории есть незакоммиченные изменения, вывести в лог номер сборки с постфиксом .uncommitted, git tag при этом не создавать"	
